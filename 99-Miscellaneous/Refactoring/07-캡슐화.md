# 캡슐화

### 레코드 캡슐화하기

레코드(객체)를 데이터 클래스로 전환하는 리팩터링이다.

가변 데이터일 때는 클래스로 전환하는 것을 고려해 본다.

### 컬렉션 캡슐화하기

컬렉션의 불변성을 보장하기 위해 컬렉션 게터에서는 내부 컬렉션의 복제본을 반환하는 것이 좋다.

컬렉션을 다룰 때는 어느 정도 강박증을 갖고 복제본을 만드는 편이 낫다.

### 기본형을 객체로 바꾸기

단순한 출력 이상의 기능이 필요해지면 그 데이터를 표현하는 전용 클래스를 만든다.

### 임시 변수를 질의 함수로 바꾸기

임시 변수에서 한 걸음 더 나아가 아예 함수로 만들어 사용하는 편이 나을 때가 있다.

### 클래스 추출하기

**클래스는 반드시 명확하게 추상화하고 소수의 주어진 역할만 처리해야 한다.**

일부 데이터와 메서드를 따로 묶을 수 있다면 어서 분리하라는 신호다.

### 클래스 인라인하기

클래스 추출하기의 반대 리팩터링이다.

### 위임 숨기기

복잡한 의존성을 줄이기 위해 서버 자체에 위임 메서드를 만들어서 위임 객체의 존재를 숨길 수 있다.

### 중개자 제거하기

위임 메서드가 많아져서 서버 클래스가 그저 중개자(middle man) 역할로 전락한다면, 클라이언트가 위임 객체를 직접 호출하는 게 나을 수 있다.

### 알고리즘 교체하기

더 간명한 방법을 찾아내면 복잡한 기존 코드를 간명한 방식으로 고친다.