# 테스트 구축하기

모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만들자.

테스트 스위트(suite)는 강력한 버그 검출 도구로, 버그를 찾는 데 걸리는 시간을 대폭 줄여준다.

테스트를 작성하기 가장 좋은 시점은 프로그래밍을 시작하기 전이다. 테스트를 작성하다 보면 원하는 기능을 추가하기 위해 무엇이 필요한지 고민하게 된다. 구현보다 인터페이스에 집중하게 된다는 장점도 있다.

TDD - 테스트를 작성하고, 이 테스트를 통과하게끔 코드를 작성하고, 결과 코드를 최대한 깔끔하게 리팩터링하는 과정을 짧은 주기로 반복한다. 즉 테스트-코딩-리팩터링 과정을 거친다.

실패해야 할 상황에서는 반드시 실패하게 만들자. 테스트가 실패하는 모습도 한 번 확인해본다.

테스트끼리 상호작용하게 하는 공유 픽스처는 가급적 사용하지 말아야 한다.

문제가 생길 가능성이 있는 경계 조건을 생각해봐야 한다. 예를 들어 숫자형이라면 0, 음수, NaN, 또는 다른 타입의 값이 들어오는 경우를 상상할 수 있다.

버그 리포트를 받으면 가장 먼저 그 버그를 드러내는 단위 테스트부터 작성하자.