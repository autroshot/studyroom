# 3장 HTTP 메시지

HTTP가 인터넷의 배달원이라면, HTTP 메시지는 무언가를 담아 보내는 소포와 같다.

HTTP 메시지는 HTTP 애플리케이션 간에 주고받는 데이터의 블록들이다.

## 1. 메시지의 흐름

HTTP는 트랜잭션 방향을 표현할 때 인바운드와 아웃바운드라는 용어를 사용한다. 

- 인바운드: 클라이언트 → 서버
- 아웃바운드: 클라이언트 ← 서버

HTTP 메시지는 강물과 같이 흐른다. 요청이나 응답에 관계없이 모든 메시지는 다운스트림으로 흐른다. 예를 들어 클라이언트가 서버에 요청하는 흐름에서 클라이언트는 서버의 업스트림이고, 서버는 클라이언트의 다운스트림이다. 업스트림은 발송자, 다운스트림은 수신자이다. 강물의 상류와 하류에 비유할 수 있다.

## 2. 메시지의 각 부분

![http-메시지-구조](https://github.com/autroshot/studyroom/assets/95019875/e9004611-683b-44f2-8084-df79bc6814b8)

메시지는 시작줄, 헤더 블록, 본문 이렇게 세 부분으로 이루어진다. 시작줄은 이것이 어떤 메시지인지 기술하며, 헤더 블록은 속성을, 본문은 데이터를 담고 있다.

시작줄과 헤더는 그냥 줄 단위로 분리된 아스키 문자열이다. 각 줄은 CRLF로 끝난다.

본문은 단순히 선택적인 데이터 덩어리다. 본문은 텍스트나 이진 데이터를 포함할 수도 있다.

### 메시지 문법

모든 메시지는 요청 메시지나 응답 메시지로 분류된다. 요청과 응답 모두 기본적으로 구조가 같다.

요청 메시지의 형식은 다음과 같다.

```
<메서드> <요청 URL> <버전>
<헤더>

<엔터티 본문>
```

응답 메시지의 형식은 다음과 같다.

```
<버전> <상태 코드> <사유 구절>
<헤더>

<엔터티 본문>
```

### 시작줄