# 1장 HTTP 개관

전 세계의 웹브라우저, 서버, 웹 애플리케이션은 모두 HTTP(Hypertext Transfer Protocol)를 통해 서로 대화한다. HTTP는 현대 인터넷의 공용어이다.

## 1.1 HTTP: 인터넷의 멀티미디어 배달부

HTTP는 데이터가 전송 중에 손상되거나 꼬이지 않음을 보장하는 프로토콜을 사용한다.

## 1.2 웹 클라이언트와 서버

웹 서버는 HTTP 프로토콜로 통신하기 때문에 HTTP 서버라고 불린다.

클라이언트는 서버에게 HTTP 요청을 보내고, 서버는 요청된 데이터를 HTTP 응답으로 돌려준다.

## 1.3 리소스

웹 서버는 웹 리소스를 관리하고 제공한다. 웹 리소스는 웹 콘텐츠의 원천이다. 가장 간단한 웹 리소스는 정적 파일이다. 텍스트 파일, HTML 파일, 이미지 파일, 동영상 파일 등 모든 종류의 파일이 정적 파일에 포함된다. 동적 리소스의 예로는 카메라의 라이브 영상, 주식 거래, 부동산 정보가 있다.

어떤 콘텐츠 소스도 리소스가 될 수 있다. 스프레드시트 파일, 도서관의 서가를 탐색하는 웹 게이트웨이, 인터넷 검색엔진 모두 리소스이다.

### 1.3.1 미디어 타입

MIME(Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장)은 원래 이메일에서 사용되는 포맷이었지만 HTTP에서 채택되었다. 데이터 포맷을 나타낸다.

웹 서버는 모든 HTTP 객체 데이터에 MIME 타입을 붙인다. 클라이언트는 이 타입을 이용하여 받은 데이터를 적절히 처리한다.

MIME 타입은 사선(`/`)으로 구분된 주 타입(primary object type)과 부 타입(specific subtype)으로 이루어진 문자열 라벨이다.

```
type/subtype
```

다음은 MIME 타입의 예시이다.

- `text/plain`
- `text/html`
- `text/css`
- `text/javascript`
- `image/jpeg`
- `image/svg+xml`
- `video/mp4`
- `multipart/form-data`

### 1.3.2 URI

URI(Uniform Resource Identifier, 통합 자원 식별자)는 서버에 있는 리소스의 이름이다. 인터넷의 우편물 주소에 비유할 수 있다.

URI은 URL과 URN로 나뉜다.

### 1.3.3 URL

URL(Uniform Resource Locator, 통합 자원 지시자)는 리소스 식별자의 가장 흔한 형태다.

URL은 세 부분으로 이루어진 표준 포맷을 따른다. `http://www.joes-hardware.com/specials/saw-blade.gif`를 예로 들겠다.

1. 스킴(scheme)에서는 프로토콜을 서술 (`http://`)
2. 서버의 주소 (`www.joes-hardware.com`)
3. 리소스의 경로 (`/specials/saw-blade.gif`)

대부분의 URI는 URL 형태이다. 통상적으로 URI와 URL을 같은 의미로 사용한다.

### 1.3.4 URN

URN(Uniform Resource Name, 통합 자원 이름)은 리소스의 위치에 영향을 받지 않는 유일한 이름 역할을 한다. 위치 독립적이므로 리소스의 위치가 바뀌어도 문제없다.

다음은 URN의 예시이다.

```
urn:ietf:rfc:2141
```

## 1.4 트랜잭션

HTTP 트랜잭션은 요청 명령과 응답 결과로 구성되어 있다.

### 1.4.1 메서드

모든 HTTP 요청 메시지는 한 개의 메서드를 갖는다. 메서드는 서버에게 어떤 동작을 취해야 하는지 말해준다.

다음은 흔히 쓰이는 메서드다.

- GET
- PUT
- DELETE
- POST
- HEAD

### 1.4.2 상태 코드

모든 HTTP 응답 메시지는 상태 코드와 함께 반환된다. 상태 코드는 요청이 성공했는지 추가 조치가 필요한지 알려주는 세 자리 숫자다.

다음은 흔히 쓰이는 상태 코드다.

- 200
- 302
- 404

### 1.4.3 웹페이지는 여러 객체로 이루어질 수 있다

웹페이지는 보통 하나의 리소스가 아닌 리소스의 모음이다. 여러 리소스를 가져오기 위해 여러 HTTP 트랜잭션을 수행한다.

먼저 HTML 뼈대를 가져온 뒤, 추가로 HTTP 트랜잭션을 수행하여 이미지, 그래픽 조각, 자바 애플릿 등을 가져온다.

## 1.5 메시지