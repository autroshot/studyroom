# 1. 웹과 멀티미디어
## 웹에서 사용하는 멀티미디어
오디오나 비디오 같은 멀티미디어를 직접 재생할 수 없던 과거의 웹 브라우저에서는 플러그인(plug-in) 프로그램을 사용했다. 예전에는 인터넷에서 음악을 듣거나 온라인 강의를 시청하려고 할 때 특정 프로그램을 설치하라는 메시지가 뜨곤 했는데, 이것이 플러그인 프로그램이다.

**플러그인 프로그램은 웹 브라우저에서 처리할 수 없는 작업을 위해 웹 문서 안에 포함시킨 외부 프로그램이다.**

현재는 보안이나 호환성 등의 이유로 플러그인 프로그램이 사라지는 추세이다.

## \<object>, \<embed> - 플러그인 사용하기
해당 태그를 이용해 이미지, 동영상, 다른 HTML 문서를 포함하는 것이 가능하나 대신 `<img>`, `<video>`, `<iframe>`를 사용하는 것을 추천한다.

### \<object>
`<object>`는 웹 브라우저에서 직접 재생할 수 없는 자바 애플릿이나 PDF 파일, 플래시 무비 같은 콘텐프를 웹 문서 안에 포함시키기 위해 사용한다. 또한 다른 HTML 문서도 포함시킬 수 있다.

|속성|설명|
|---|---|
|data|외부 파일의 경로를 지정한다.|
|type|포함시킨 내용의 유형을 지정한다.|
|name|이름을 지정한다.|
|width|너비 값을 지정한다.|
|height|높이 값을 지정한다.|

`data`나 `type` 속성 둘 중 하나는 반드시 지정해야 한다.

### \<embed>
```html
<embed src="경로" type="유형" width="너비" height="높이">
```
`<object>`와 달리 닫는 태그가 없는 `<embed>`는 주로 `<object>`를 지원하지 않는 이전 브라우저에서 사용된다.

## 멀티미디어의 웹 표준화
웹에서 지원되는 대표적인 비디오/오디오 포맷은 다음과 같다.
|종류|확장자|설명|
|---|---|---
|비디오|mp4|고화질 영상을 지원해 많은 사이트에서 사용되고 있다. 라이선스가 있지만 웹에서 사용할 경우에는 무료이다.|
||webm|화질이 우수하고 무료로 제공되어 최근 많이 사용되고 있다.|
||ogv|화질은 다른 비디오 포맷보다 떨어지지만 무료라는 장점 때문에 webm 형식이 등장하기 전에 많이 사용되었다.|
|오디오|mp3|대부분의 음원에서 사용되지만 라이선스 때문에 유로로 사용해야 한다.|
||ogg|무료이므로 게임 등에서 많이 사용한다.|

### HTML5와 비디오 코덱
**코덱은 인코딩이나 디코딩, 혹은 둘 다를 수행하는 소프트웨어를 말한다.**

HTML5에서 지원하는 비디오 코덱은 다음과 같다.
1. H.264/AVC: 간단히 줄여 H.264라고 부르며 mp4 파일에서 사용한다.
2. v8, v9: 구글에서 오픈 소스로 공개한 코덱으로 webm 파일에서 사용한다. 하드웨어 가속이 안 된다는 단점이 있지만 화질이 우수하고 무료이다.
3. 오그 테오라(Ogg Theora): H.264에 대응해 등장한 무료 공개 코덱으로 ogv 파일에서 사용한다. 화질은 다른 코덱보다 떨어지지만 무료이다.

### HTML5와 오디오 코덱
HTML5에서 주로 사용하는 오디오 코덱은 다음과 같다.
1. MPEG-1 AUDIO Layer3: 흔히 MP3 코덱이라고 부르며 가장 유명한 오디오 코덱이다.
2. Ogg Vorbis: MP3와 달리 오픈 소스이며 누구나 무료로 사용할 수 있는 오디오 코덱이다. 확장자 .ogg나 .oga를 사용한다. 재생할 수 있는 플레이어가 적고 인코딩 시간이 더 걸린다는 단점이 있지만 무료이기 때문에 게임 등에서 많이 사용된다.
# 2. 오디오 & 비디오 재생하기
## \<audio>, \<video> - 오디오, 비디오 파일 삽입하기
```html
<audio src="오디오 파일 경로" [속성] [속성="속성 값"]></audio>
<video src="비디오 파일 경로" [속성] [속성="속성 값"]></video>
```

|속성|설명|
|---|---|
|width, height|비디오의 크기를 지정한다.|
|controls|컨트롤 막대를 표시한다. 컨트롤 막대에는 재생/멈춤, 진행 바, 볼륨 등이 표시된다.|
|preload|재생 버튼을 누르지 않아도 미리 미디어 파일을 다운로드해 준비해둔다.|
|muted|음소거한다.|
|autoplay|자동 재생한다.|
|loop|반복 재생한다.|
|poster|비디오를 재생할 수 없을 경우에 대신 표시하는 이미지를 지정한다.|

`preload` 속성에 사용할 수 있는 값은 다음과 같다.
|속성 값|설명|
|---|---|
|auto|속성 값을 따로 지정하지 않으면 `auto`로 설정된 것이다. 웹 문서를 불러올 때 미디어 파일을 모두 다운로드한다.|
|metadata|미디어 파일의 메타 정보만 미리 다운로드한다.|
|none|미디어 파일을 미리 다운로드하지 않는다.|

## \<source> - 여러 미디어 파일 한꺼번에 지정하기
|속성|설명|
|---|---|
|src|필숫값. 미디어 파일의 경로를 지정한다. 경로에 공백이 있으면 안 된다.|
|type|미디어 파일의 유형을 지정한다.|
|codecs|비디오 코덱을 지정한다.|

```html
<video controls>
  <source src="media/Painting.mp4" type="video/mp4">
  <source src="media/Painting.webm" type="video/webm">
</video>
```

컴퓨터에서는 문제없이 재생되던 미디어 파일이 웹 서버에 업로드한 후 재생되지 않는 경우, 서버에 MIME 유형을 추가해야 한다.

## 이전 브라우저 고려하기
`<video>`를 지원하지 않는 이전 브라우저를 고려해 다음과 같은 대체 텍스트를 넣을 수 있다.
```html
<video controls>
  <source src="media/Painting.mp4" type="video/mp4">
  <source src="media/Painting.webm" type="video/webm">
  이 영상을 보기 위해서는 HTML5을 지원하는 브라우저가 필요합니다.
</video>
```
또는 다음과 같이 플래시 무비를 `<embed>`나 `<object>`를 사용해 플러그인으로 넣을 수 있다.
```html
<video controls>
  <source src="media/Painting.mp4" type="video/mp4">
  <source src="media/Painting.webm" type="video/webm">
  <object data="media/Painting.swf" type="application/x-shockwave-flash"></object>
</video>
```

## \<track> - 비디오 화면에 자막 추가하기
HTML5에서는 비디오 콘텐츠를 삽입할 때 청각장애인용 자막을 표시하는 것이 기본이다.
|속성|설명|
|---|---|
|kind|자막의 종류를 지정한다. 생략할 경우 `subtitles`로 설정된다.|
|src|자막 텍스트의 파일 경로를 지정한다.|
|srclang|사용한 언어를 지정한다. `kind` 속성이 `subtitles`이라면 반드시 지정해야 하며 `en`이나 `ko`처럼 언어를 나타내는 약자로 표기한다.|
|label|자막이 여러 개일 경우, 자막을 식별할 수 있도록 제목을 달아 준다.|
|default|자막이 여러 개일 경우, 기본으로 사용할 자막을 지정할 수 있다.|

`kind` 속성에 사용할 수 있는 값은 다음과 같다.
|속성 값|설명|
|---|---|
|subtitles|자막이다. 소리를 켤 수 있지만 이해할 수 없는 경우, 다른 언어로 번역한 자막일 경우에 사용한다. 비디오 화면에 표시된다.|
|captions|캡션이다. 청각장애인용 자막, 소리를 들을 수 없거나 켤 수 없는 경우에 사용한다. 비디오 화면에 표시된다.|
|descriptions|비디오 콘텐츠에 대한 설명이다. 비디오 화면에 표시되지 않는다.|
|chapters|비디오 탐색을 위한 장 제목이다. 비디오 화면에 표시되지 않는다.|
|metadata|비디오 콘텐츠 정보이다. 비디오 화면에 표시되지 않는다.|

```html
<track kind="subtitles" src="Wildlife.vtt" srclang="ko" label="korean" default>
```

### WebVTT 자막 파일
HTML5에서는 srt 파일을 사용하지만 모든 브라우저에서 공식적으로 지원하는 자막 파일 형식은 **WebVTT(Web Video Text Track)** 형식이다. 파일 확장자는 .vtt이고 파일 안에 자막 내용과 시간이 담겨 있다. 간단히 줄여 vtt 파일이라고 부른다.

자막의 시작 시간과 종료 시간은 "HH:MM:SS.ttt" 형식으로 표시한다. 시작 시간과 종료 시간 사이에는 `-->` 기호를 넣는다.
```html
WEBVTT

00:00.000 --> 00:02.172
예술이란

00:02.172 --> 00:05.719
자연이 인간에 투영된 것입니다
```

### 비디오 파일에 자막 파일 연결하기
```html
<video controls>
  <source src="media/Painting.mp4" type="video/mp4">
  <source src="media/Painting.webm" type="video/webm">
  <track kind="subtitles" src="media/Painting.vtt" srclang="ko" label="korean" default>
</video>
```
