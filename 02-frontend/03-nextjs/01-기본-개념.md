# 기본 개념

> 12 버전의 내용이므로 최신 버전에 적용할 때는 주의가 필요하다.

앱이 개발에서 프로덕션으로 갈 때 코드는 컴파일(Compiling), 축소(Minifying), 번들링(Bundling), 코드 분할(Code Splitting)이 필요하다.

- 컴파일: 한 언어로 된 코드를 다른 언어 또는 해당 언어의 다른 버전으로 출력하는 과정을 의미한다. JSX, 타입스크립트, 최신 자바스크립트 등에 대해 컴파일이 필요하다.
- 축소: 실행에 필요하지 않은 주석, 공백, 들여쓰기 등을 제거한다.
- 번들링: 웹 종속성을 해결하고 파일(또는 모듈)을 브라우저에 최적화된 번들로 병합(패키징)하는 과정이다. 사용자가 웹 페이지를 방문할 때 요청하는 파일의 수를 줄일 수 있다.
- 코드 분할: 각 페이지에 필요한 더 작은 청크로 분할하는 과정이다. 덕분에 각 페이지는 필요한 코드만 로드할 수 있다.

빌드 타임과 런타임은 다음과 같이 구별된다.

- 빌드 타임: 프로덕션용 앱 코드를 준비하는 시점
- 런타임: 앱이 배포된 후, 사용자의 요청에 대한 응답으로 앱이 실행되는 시점

클라이언트와 서버는 다음과 같다.

- 클라이언트: 사용자 장치의 브라우저. 앱 코드를 요청한다.
- 서버: 데이터 센터의 컴퓨터. 앱 코드를 저장하며 요청을 받으면 응답으로 보낸다.

넥스트는 앱 코드를 오리진 서버, CDN(Content Delivery Network), 에지(Edge)에 배포할 수 있다.

- 오리진 서버: 코드의 원본이 있는 메인 서버
- CDN: 클라이언트와 오리진 서버 사이에 배치된다. 사용자와 지리적으로 가까운 곳에 위치한다.
- 에지: CDN과 유사하다. 정적 콘텐츠를 저장하는 CDN과 달리 에지는 코드를 실행할 수 있다.

## 렌더링

리액트에서 작성한 코드를 UI의 HTML 표현으로 변환하는 데 반드시 필요한 과정이 바로 **렌더링**이다.

넥스트에서는 클라이언트 측 렌더링(Client-Side Rendering, CSR), 서버 측 렌더링(Server-Side Rendering, SSR), 정적 사이트 생성(Static Site Generation, SSG)의 세 가지 유형의 렌더링 방법을 사용할 수 있다.

여기서 SSR과 SSG는 결과가 클라이언트로 전송되기 전에 렌더링하므로 사전 렌더링(Pre-Rendering)이라고도 부른다. CSR에서는 사용자가 처음에 빈 페이지를 본다. 반면 사전 렌더링된 앱에서는 사용자가 처음부터 만들어진 HTML을 볼 수 있다. 참고로 사전 렌더링에서는 클라이언트에서 수화 과정이 추가된다.

- SSR: 요청마다 서버에서 렌더링한다.
- SSG: 앱이 배포될 때 한 번, 서버에서 렌더링한다. 요청마다 미리 렌더링된 결과를 보낸다.

