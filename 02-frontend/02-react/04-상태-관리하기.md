# 상태 관리하기

## 컨텍스트를 사용해 데이터를 깊게 전달하기

### 대안 고려하기

컨텍스트를 사용하기 전에 고려할 대안은 다음과 같다.

1. 그대로 프롭 사용하기: 프롭을 사용하면 데이터의 흐름이 명확해지고 유지 보수가 쉬워진다.
2. `children`으로 컴포넌트 노출하기: 데이터를 사용하는 컴포넌트에 데이터를 바로 전달한다.

### 프롭 드릴링

프롭 드릴링은 한 컴포넌트가 프롭으로 받은 데이터를 다시 하위 컴포넌트에게 전달하는 것을 말한다. 중간 컴포넌트가 단순히 데이터의 이동 통로로 사용된다. 많은 컴포넌트나 트리에서 깊은 곳에 있는 컴포넌트에 데이터를 전달할 때 프롭 드릴링이 발생한다.

컨텍스트를 사용하면 프롭 드릴링 없이 자식 컴포넌트들에게 데이터를 뿌릴 수 있다.

### 컨텍스트 만들기

컨텍스트를 만드는 과정은 다음과 같다.

1. 컨텍스트를 생성한다. `createContext(defaultValue)`
2. 데이터를 지정하는 컴포넌트에서 컨텍스트를 제공한다. 컨텍스트 제공자(`Provider`)를 사용한다.
3. 데이터가 필요한 컴포넌트에서 컨텍스트를 사용한다. `useContext(SomeContext)`

### 컨텍스트 이해하기

`useContext(SomeContext)`는 트리에서 가장 가까운 제공자의 값으로 결정된다. 따라서 중간에서 제공자를 이용하여 컨텍스트 값을 재정의할 수 있다.

컨텍스트의 작동 방식은 CSS의 상속과 유사하다.

### 사용 사례

