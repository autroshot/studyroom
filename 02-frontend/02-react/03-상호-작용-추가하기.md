# 상호 작용 추가하기

## 상태: 컴포넌트의 메모리

렌더링 간에 데이터를 기억하고 리렌더링을 유발하고 싶을 때 상태를 사용한다.

모든 리액트 훅은 반복문, 조건문, 중첩 함수 내부가 아닌 컴포넌트 최상위에서만 호출할 수 있다. 이는 리액트가 훅을 식별자가 아닌 호출 순서로 기억하기 때문이다.

동일한 컴포넌트를 다른 곳에 렌더링해도 상태는 공유되지 않는다. 상태를 공유하고 싶다면 상태 끌어올리기를 사용해야 한다.

## 렌더링과 커밋

리액트의 모든 화면 갱신은 다음 과정을 따른다.

### 1. 렌더링 트리거

렌더링을 트리거하는 것은 두 가지다.

- 초기 렌더링

- 컴포넌트(또는 상위 컴포넌트 중 하나)의 상태가 `set` 함수에 의해 갱신됨

### 2. 컴포넌트 렌더링

리액트의 렌더링은 컴포넌트(함수) 호출을 의미한다.

초기 렌더링에서는 루트 컴포넌트를 호출한다. 후속 렌더링에서는 상태가 갱신된 컴포넌트를 호출한다.

렌더링 프로세스는 재귀적이다. 하위 컴포넌트도 렌더링된다.

### 3. DOM에 커밋

리액트는 렌더링 결과와 다른 DOM 노드만 변경한다. 즉, 리액트는 렌더링 결과가 지난번과 같으면 DOM을 건드리지 않는다.

브라우저는 갱신된 DOM에 따라 화면을 다시 그린다.

