# 2장: 데이터 입출력 구현

## 29섹션: 데이터베이스 개요

- 데이터저장소
- 데이터베이스

**DBMS**는 사용자의 요구에 따라 정보를 생성해주고, 데이터베이스를 관리해주는 소프트웨어이다.

DBMS의 필수 기능은 다음과 같다.

- 정의 기능
- 조작 기능
- 제어 기능: 데이터의 무결성, 보안 등

**스키마**는 데이터베이스의 구조와 제약조건에 관한 전반적인 명세를 기술한 것이다.

스키마의 종류는 다음과 같다.

- **외부 스키마**: 사용자나 개발자의 입장에서 본 데이터베이스 구조
- **개념 스키마**: 하나만 존재. 데이터베이스의 전체적인 논리적 구조
- **내부 스키마**: 물리적 저장장치의 입장에서 본 데이터베이스 구조

## 30섹션: 데이터베이스 설계

설계 순서는 다음과 같다.

1. 요구 조건 분석
2. **개념적 설계**: 개념 스키마, 트랜잭션 모델링, E-R 다이어그램
3. **논리적 설계(데이터 모델링)**: 목표 DBMS에 맞는 논리 스키마 설계 또는 변환(mapping), 트랜잭션 인터페이스 설계
4. **물리적 설계(데이터 구조화)**: 목표 DBMS에 맞는 물리적 구조의 데이터로 변환
5. 구현

## 31섹션: 데이터 모델의 개념

데이터 모델에 표시할 요소는 다음과 같다.

- **구조**
- **연산**
- **제약 조건**

## 32섹션: 데이터 모델의 구성 요소

데이터 모델의 구성 요소는 다음과 같다.

- 개체
- 속성
- 관계

관계의 형태는 다음과 같다.

- **1:1**
- **1:N**
- **N:M**

## 33섹션: E-R 모델

- **사각형**: 개체 타입
- **마름모**: 관계 타입
- **타원**: 속성
- **이중 타원**: 다중값 속성(복합 속성)
- 복수 타원: 복합 속성
- 밑줄 타원: 기본키 속성
- **선, 링크**: 개체 타입과 속성을 연결
- 관계: 개체 간 관계에 대한 대응수를 선 위에 기술

## 34섹션: 관계형 데이터베이스의 구조/관계형 데이터 모델

**릴레이션**은 데이터들을 표의 형태로 표현한 것이다. 구조를 나타내는 **릴레이션 스키마**와 실제 값들인 **릴레이션 인스턴스**로 구성된다.

**튜플**은 릴레이션의 각각의 행을 말한다.

**튜플의 수 = 카디널리티 = 기수**

**속성**은 데이터베이스를 구성하는 가장 작은 논리적 단위이다.

**속성의 수 = 디그리 = 차수**

**도메인**은 하나의 속성이 취할 수 있는 같은 타입의 원자값들의 집합이다.

## 35섹션: 관계형 데이터베이스의 제약 조건 - 키

- **후보키**: 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합이다. **유일성**과 **최소성**을 만족시켜야 한다.
- **기본키**: 후보키 중에서 특별히 선정된 주키이다.
- **대체키**: 기본키를 제외한 나머지 후보키이다.
- **슈퍼키**: 속성들의 집합으로 구성된 키이다. 유일성은 만족하지만, 최소성을 만족하지 못한다.
- **외래키**: 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합이다.

## 36섹션: 관계형 데이터베이스의 제약 조건 - 무결성

무결성의 종류는 다음과 같다.

- **개체 무결성**: 기본키를 구성하는 어떤 속성도 Null 값이나 중복값을 가질 수 없다.
- **참조 무결성**: 참조할 수 없는 외래키 값을 가질 수 없다.
- **도메인 무결성**: 속성 값이 정의된 도메인에 속한 값이어야 한다.
- **사용자 정의 무결성**

## 37섹션: 관계대수 및 관계해석

**관계대수**는 관계형 데이터베이스에서 원하는 정보와 그 정보를 검색하기 위하여 어떻게 유도하는가를 기술하는 **절차적인 언어**이다

**관계해석**은 관계 데이터의 연산을 표현하는 방법이다. **비절차적**이다.

관계대수에서는 순수 관계 연산자와 일반 집합 연산자를 사용한다.

### 순수 관계 연산자

| 종류     | 기호 | 설명                                                    |
| -------- | ---- | ------------------------------------------------------- |
| Select   | σ    | 선택 조건을 만족하는 튜플의 부분집합                    |
| Project  | π    | 속성 리스트에 제시된 속성 값만을 추출                   |
| Join     | ⨝    | 공통 속성을 중심으로 두 개의 릴레이션을 하나로 합침     |
| Division | ÷    | R에서 S와 연관되어 있는 튜플만 추출하고 속성 s를 제외함 |

### 일반 집합 연산자

- 교차곱을 제외한 합집합, 교집합, 차집합은 합병 조건을 만족해야 한다. 합병 조건은 두 릴레이션 간의 속성 수가 같고 각 속성별로 도메인이 같아야 한다.
- 교차곱의 디그리는 두 릴레이션의 디그리를 더한 것과 같고, 카디널리티는 두 릴레이션의 카디널리티를 곱한 것과 같다.

| 연산자 | 기호 |
| ------ | ---- |
| 합집합 | ⋃    |
| 교집합 | ⋂    |
| 차집합 | −    |
| 교차곱 | ×    |

## 38섹션: 이상 및 함수적 종속

이상의 종류는 다음과 같다.

- **삽입 이상**: 의도치 않은 값들도 삽입됨
- **삭제 이상**: 의도치 않은 값들도 삭제됨
- **갱신 이상**: 일부 값만 갱신되어 정보에 모순이 생김

**함수적 종속**은 $X → Y$로 표기하며 $X$를 **결정자**, $Y$를 **종속자**라고 한다. 종류는 다음과 같다.

- **완전 함수적 종속(Full Functional Dependency)**
- **부분 함수적 종속(Full Functional Dependency)**
- **이행적 함수적 종속(Transitive Functional Dependency)**: $X → Y$이고 $Y → Z$일 때 $X → Z$를 만족하는 관계

## 39섹션: 정규화

1. **1NF(제1정규형): 도메인이 원자값**
2. **2NF(제2정규형): 부분적 함수 종속 제거**
3. **3NF(제3정규형): 이행적 함수 종속 제거(A → B이고 B → C일 때 A → C를 만족하는 관계)**
4. **BCNF(Boyce-Codd 정규형): 결정자이면서 후보키가 아닌 것 제거**
5. **4NF(제4정규형): 다치 종속 제거**
6. **5NF(제5정규형, PJ/NF): 조인 종속성 이용**

## 40섹션: 반정규화

반정규화(비정규화) 방법은 다음과 같다.

- 테이블 통합
- 테이블 분할
  - 수평 분할: 레코드 기준
  - 수직 분할: 속성 기준
- 중복 테이블 추가
- 중복 속성 추가

## 41섹션: 시스템 카탈로그

- **시스템 카탈로그**: 시스템 그 자체에 관련이 있는 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스이다.
- **메타 데이터**: 시스템 카탈로그에 저장된 정보를 의미한다.
- 시스템 디렉터리: 시스템만 접근할 수 있다.

## 42섹션: 트랜잭션 분석 및 CRUD 분석

**트랜잭션**은 데이터베이스의 상태를 변화시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 일련의 연산들이다.

트랜잭션의 특성은 다음과 같다. 앞글자만 모아서 **ACID**라고 한다.

- **Atomicity(원자성)**: All or Nothing
- **Consistency(일관성)**
- **Isolation(독립성)**: 트랜잭션 실행 중에 다른 트랜잭션의 연산이 끼어들 수 없다.
- **Durability(영속성, 지속성)**

## 44섹션: 뷰 및 클러스터

**뷰(View)**는 사용자에게 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나 이상의 기본 테이블로부터 유도된, 이름을 가지는 가상 테이블이다.

뷰의 단점은 다음과 같다.

- 독립적인 인덱스를 가질 수 없다.
- 뷰의 정의를 변경할 수 없다.
- CUD 연산에 제약이 따른다.

클러스터는 동일한 성격의 데이터를 동일한 데이터 블록에 저장하는 물리적 저장 방법이다.

클러스터링의 종류는 다음과 같다.

- 단일 테이블 클러스터링: 처리 범위가 넓을 때
- 다중 테이블 클러스터링: 조인이 많이 발생할 때

## 45섹션: 파티션

**파티션(Partition)**은 대용량의 테이블이나 인덱스를 작은 논리적 단위인 파티션으로 나누는 것을 말한다.

파티션의 종류는 다음과 같다.

- **범위 분할(Range Partitioning)**
  - 지정한 열의 값을 기준으로 범위를 지정하여 분할
  - 예) 일별, 월별, 분기별
- **해시 분할(Hash Partitioning)**
  - 해시 함수를 적용한 결과 값을 기준으로 분할
  - 데이터를 고르게 분산할 때 유용하다.
  - 특정 데이터가 어디 있는지 판단할 수 없다.
  - 예) 고객 번호, 주민번호
- **조합 분할(Composite Partitioning)**
  - 범위 분할 뒤 해시 분할
  - 범위 분할한 파티션이 너무 클 때 유용하다.

## 47섹션: 데이터베이스 이중화 및 서버 클러스터링

**데이터베이스 이중화**는 장애에 대응하기 위해 동일한 데이터베이스를 복제하여 관리하는 것이다.

**클러스터링**은 두 대 이상의 서버를 하나의 서버처럼 운영하는 기술이다.

- **RTO**(Recovery Time Objective, 목표 복구 시간): 업무 중단 시점으로부터 복구되어 가동될 때까지의 소요 시간
- **RPO**(Recovey Point Objective, 목표 복구 시점): 업무 중단 시점으로부터 데이터를 복구할 수 있는 기준점

## 48섹션: 데이터베이스 보안

**암호화**는 평문을 암호문으로 바꾸는 과정이다. **복호화**는 암호문을 평문으로 바꾸는 과정이다.

**접근통제**는 데이터가 저장된 **객체**와 이를 사용하려는 **주체** 사이의 정보 흐름을 제한하는 것이다.

접근통제 기술은 다음과 같다.

- **임의 접근통제(DAC; Discretionary Access Control)**
  - 사용자의 **신원(신분)**에 따라 접근 권한을 부여한다.
  - **데이터 소유자**가 접근통제 권한을 지정하고 제어한다.
- **강제 접근통제(MAC; Mandatory Access Control)**
  - 주체와 객체의 **보안 등급**을 비교하여 권한을 부여한다.
  - **시스템**이 접근통제 권한을 지정한다.
- **역할기반 접근통제(RBAC; Role Based Access Control)**
  - 사용자의 **역할**에 따라 접근 권한을 부여한다.
  - **중앙관리자**가 접근통제 권한을 지정한다.
  - DAC와 MAC의 단점을 보완했으며, 다중 프로그래밍 환경에 최적화된 방식이다.

## 49섹션: 데이터베이스 백업

**백업**은 데이터베이스에 저장된 데이터를 보호하고 복구하기 위한 작업이다.

**로그 파일**은 데이터베이스의 상태 변화를 시간의 흐름에 따라 모두 기록한 파일이다. 로그 파일을 기반으로 데이터베이스를 **복귀(UNDO)**시키거나 **재생(REDO)**시킬 수 있다.

## 50섹션: 스토리지

단일 디스크로 처리할 수 없는 대용량의 데이터를 저장하기 위해 서버와 저장장치를 연결하는 기술이다.

스토리지의 종류는 다음과 같다.

- **DAS(Direct Attached Storage)**: 서버와 저장장치를 직접 연결하는 방식이다.
  - 속도가 빠르고 설치 및 운영이 쉽다.
  - 다른 서버에서 접근할 수 없고 파일을 공유할 수 없다.
  - 확장성 및 유연성이 떨어진다.
  - 구축 비용이 저렴하다.

- **NAS(Network Attached Storage)**: 서버와 저장장치를 네트워크를 통해 연결하는 방식이다.
  - 별도의 파일 관리 기능이 있는 NAS Storage가 내장된 저장장치를 직접 관리한다.
  - 파일 공유가 가능하고, 장소에 상관없이 저장장치에 쉽게 접근할 수 있다.
  - 확장성 및 유연성이 우수하다.
  - 접속 증가 시 성능이 저하될 수 있다.

- **SAN(Storage Area Network)**: DAS의 빠른 처리와 NAS의 파일 공유 장점을 혼합한 방식으로, 서버와 저장장치를 연결하는 전용 네트워크를 별도로 구성하는 방식이다.
  - 광 채널(FC) 스위치로 네트워크를 구성한다.
  - 구축 비용이 많이 든다.


## 52섹션: 자료 구조

자료 구조는 자료를 기억장치의 공간 내에 저장하는 방법을 결정한다.

- 선형 구조(Linear Structure)
  - 배열: 동일한 자료형의 데이터들이 같은 크기로 나열되어 순서를 갖고 있는 집합이다.
  - 선형 리스트
    - 연속 리스트
    - 연결 리스트
  - 스택: 후입선출
  - 큐: 선입선출
  - 데크
- 비선형 구조(Non-Linear Structure)
  - 트리
  - 그래프: 정점(Vertex)와 간선(Edge)의 두 집합으로 이루어진다.

그래프의 최대 간선 수를 구하는 방법은 다음과 같다.

- 방향 그래프: $n(n-1)$
- 무방향 그래프: $n(n-1)/2$

## 54섹션: 이진 트리

**이진 트리**는 차수가 2 이하인 노드들로 구성된 트리를 말한다.

트리의 운행법(Traversal)은 트리를 구성하는 각 노드들을 찾아가는 방법이다.

이진 트리의 운행법은 다음 세 가지가 있다. Root 위치에 따라 이름이 정해진다.

- **Preorder 운행**: Root → Left →  Right
- **Inorder 운행**: Left → Root → Right
- **Postorder 운행**: Left → Right → Root

수식의 표기법은 다음과 같다.

$X=A/B*(C+D)+E$

- Infix → Prefix: $=X+/*AB+CDE$
- Infix → Postfix: $XAB/CD+*E+=$

$ABC-/DEF+*+$

- Postfix → Infix: $A/(B-C)+D*(E+F)$

## 55섹션: 정렬

- 삽입 정렬: 이미 순서화된 목록에 새로운 레코드를 올바른 위치에 삽입시켜 정렬한다.
- 선택 정렬: 최솟값을 찾아 올바른 위치에 있는 레코드와 교환한다.
- 버블 정렬: 앞에서부터 인접한 두 레코드를 비교하여 필요하면 교환한다.
- 쉘 정렬: 삽입 정렬을 확장한 개념으로 키워드는 매개변수이다.
- 퀵 정렬: 하나의 파일을 부분적으로 나누어...
- 힙 정렬: 완전 이진 트리를 이용한다.
- 2-Way 합병 정렬: 이미 정렬된 두 개의 파일을 한 개의 파일로...
- 기수 정렬: 큐를 이용하여 자릿수(Digit) 별로 정렬하는 방식이다.

삽입 정렬, 선택 정렬, 버블 정렬은 정렬 과정을 알아야 한다.
