# 2장: 데이터 입출력 구현

## 29섹션: 데이터베이스 개요

- 데이터저장소
- 데이터베이스

**DBMS**는 사용자의 요구에 따라 정보를 생성해주고, 데이터베이스를 관리해주는 소프트웨어이다.

DBMS의 필수 기능은 다음과 같다.

- 정의 기능
- 조작 기능
- 제어 기능: 데이터의 무결성, 보안 등

**스키마**는 데이터베이스의 구조와 제약조건에 관한 전반적인 명세를 기술한 것이다.

스키마의 종류는 다음과 같다.

- **외부 스키마**: 사용자나 개발자의 입장에서 본 데이터베이스 구조
- **개념 스키마**: 하나만 존재. 데이터베이스의 전체적인 논리적 구조
- **내부 스키마**: 물리적 저장장치의 입장에서 본 데이터베이스 구조

## 30섹션: 데이터베이스 설계

설계 순서는 다음과 같다.

1. 요구 조건 분석
2. **개념적 설계**: 개념 스키마, 트랜잭션 모델링, E-R 다이어그램
3. **논리적 설계(데이터 모델링)**: 목표 DBMS에 맞는 논리 스키마 설계 또는 변환(mapping), 트랜잭션 인터페이스 설계
4. **물리적 설계(데이터 구조화)**: 목표 DBMS에 맞는 물리적 구조의 데이터로 변환
5. 구현

## 31섹션: 데이터 모델의 개념

데이터 모델에 표시할 요소는 다음과 같다.

- **구조**
- **연산**
- **제약 조건**

## 32섹션: 데이터 모델의 구성 요소

데이터 모델의 구성 요소는 다음과 같다.

- 개체
- 속성
- 관계

관계의 형태는 다음과 같다.

- **1:1**
- **1:N**
- **N:M**

## 33섹션: E-R 모델

- **사각형**: 개체 타입
- **마름모**: 관계 타입
- **타원**: 속성
- **이중 타원**: 다중값 속성(복합 속성)
- 복수 타원: 복합 속성
- 밑줄 타원: 기본키 속성
- **선, 링크**: 개체 타입과 속성을 연결
- 관계: 개체 간 관계에 대한 대응수를 선 위에 기술

## 34섹션: 관계형 데이터베이스의 구조/관계형 데이터 모델

**릴레이션**은 데이터들을 표의 형태로 표현한 것이다. 구조를 나타내는 **릴레이션 스키마**와 실제 값들인 **릴레이션 인스턴스**로 구성된다.

**튜플**은 릴레이션의 각각의 행을 말한다.

**튜플의 수 = 카디널리티 = 기수**

**속성**은 데이터베이스를 구성하는 가장 작은 논리적 단위이다.

**속성의 수 = 디그리 = 차수**

**도메인**은 하나의 속성이 취할 수 있는 같은 타입의 원자값들의 집합이다.

## 35섹션: 관계형 데이터베이스의 제약 조건 - 키

- **후보키**: 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합이다. **유일성**과 **최소성**을 만족시켜야 한다.
- **기본키**: 후보키 중에서 특별히 선정된 주키이다.
- **대체키**: 기본키를 제외한 나머지 후보키이다.
- **슈퍼키**: 속성들의 집합으로 구성된 키이다. 유일성은 만족하지만, 최소성을 만족하지 못한다.
- **외래키**: 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합이다.

## 36섹션: 관계형 데이터베이스의 제약 조건 - 무결성

무결성의 종류는 다음과 같다.

- **개체 무결성**: 기본키를 구성하는 어떤 속성도 Null 값이나 중복값을 가질 수 없다.
- **참조 무결성**: 참조할 수 없는 외래키 값을 가질 수 없다.
- **도메인 무결성**: 속성 값이 정의된 도메인에 속한 값이어야 한다.
- **사용자 정의 무결성**

## 37섹션: 관계대수 및 관계해석

**관계대수**는 관계형 데이터베이스에서 원하는 정보와 그 정보를 검색하기 위하여 어떻게 유도하는가를 기술하는 **절차적인 언어**이다

**관계해석**은 관계 데이터의 연산을 표현하는 방법이다. **비절차적**이다.

관계대수에서는 순수 관계 연산자와 일반 집합 연산자를 사용한다.

### 순수 관계 연산자

| 종류     | 기호 | 설명                                                    |
| -------- | ---- | ------------------------------------------------------- |
| Select   | σ    | 선택 조건을 만족하는 튜플의 부분집합                    |
| Project  | π    | 속성 리스트에 제시된 속성 값만을 추출                   |
| Join     | ⨝    | 공통 속성을 중심으로 두 개의 릴레이션을 하나로 합침     |
| Division | ÷    | R에서 S와 연관되어 있는 튜플만 추출하고 속성 s를 제외함 |

### 일반 집합 연산자

- 교차곱을 제외한 합집합, 교집합, 차집합은 합병 조건을 만족해야 한다. 합병 조건은 두 릴레이션 간의 속성 수가 같고 각 속성별로 도메인이 같아야 한다.
- 교차곱의 디그리는 두 릴레이션의 디그리를 더한 것과 같고, 카디널리티는 두 릴레이션의 카디널리티를 곱한 것과 같다.

| 연산자 | 기호 |
| ------ | ---- |
| 합집합 | ⋃    |
| 교집합 | ⋂    |
| 차집합 | −    |
| 교차곱 | ×    |

## 38섹션: 이상 및 함수적 종속

이상의 종류는 다음과 같다.

- **삽입 이상**: 의도치 않은 값들도 삽입됨
- **삭제 이상**: 의도치 않은 값들도 삭제됨
- **갱신 이상**: 일부 값만 갱신되어 정보에 모순이 생김

**함수적 종속**은 $X → Y$로 표기하며 $X$를 **결정자**, $Y$를 **종속자**라고 한다. 종류는 다음과 같다.

- **완전 함수적 종속(Full Functional Dependency)**
- **부분 함수적 종속(Full Functional Dependency)**
- **이행적 함수적 종속(Transitive Functional Dependency)**: $X → Y$이고 $Y → Z$일 때 $X → Z$를 만족하는 관계

## 39섹션: 정규화

1. **1NF(제1정규형): 도메인이 원자값**
2. **2NF(제2정규형): 부분적 함수 종속 제거**
3. **3NF(제3정규형): 이행적 함수 종속 제거(A → B이고 B → C일 때 A → C를 만족하는 관계)**
4. **BCNF(Boyce-Codd 정규형): 결정자이면서 후보키가 아닌 것 제거**
5. **4NF(제4정규형): 다치 종속 제거**
6. **5NF(제5정규형, PJ/NF): 조인 종속성 이용**

## 40섹션: 반정규화

반정규화(비정규화) 방법은 다음과 같다.

- 테이블 통합
- 테이블 분할
  - 수평 분할: 레코드 기준
  - 수직 분할: 속성 기준
- 중복 테이블 추가
- 중복 속성 추가

## 41섹션: 시스템 카탈로그

- **시스템 카탈로그**: 시스템 그 자체에 관련이 있는 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스이다.
- **메타 데이터**: 시스템 카탈로그에 저장된 정보를 의미한다.
- 시스템 디렉터리: 시스템만 접근할 수 있다.

## 42섹션: 트랜잭션 분석 및 CRUD 분석

**트랜잭션**은 데이터베이스의 상태를 변화시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 일련의 연산들이다.

트랜잭션의 특성은 다음과 같다. 앞글자만 모아서 **ACID**라고 한다.

- **Atomicity(원자성)**: All or Nothing
- **Consistency(일관성)**
- **Isolation(독립성)**: 트랜잭션 실행 중에 다른 트랜잭션의 연산이 끼어들 수 없다.
- **Durability(영속성, 지속성)**

## 44섹션: 뷰 및 클러스터

**뷰(View)**는 사용자에게 접근이 허용된 자료만을 제한적으로 보여주기 위해 하나 이상의 기본 테이블로부터 유도된, 이름을 가지는 가상 테이블이다.

뷰의 단점은 다음과 같다.

- 독립적인 인덱스를 가질 수 없다.
- 뷰의 정의를 변경할 수 없다.
- CUD 연산에 제약이 따른다.

클러스터는 동일한 성격의 데이터를 동일한 데이터 블록에 저장하는 물리적 저장 방법이다.

클러스터링의 종류는 다음과 같다.

- 단일 테이블 클러스터링: 처리 범위가 넓을 때
- 다중 테이블 클러스터링: 조인이 많이 발생할 때

## 45섹션: 파티션
