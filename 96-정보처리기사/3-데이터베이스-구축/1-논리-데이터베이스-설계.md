# 1장: 논리 데이터베이스 설계

## 60섹션: 데이터베이스 설계

사용자의 요구를 분석하여 컴퓨터에 저장할 수 있는 데이터베이스의 구조에 맞게 변형한 후 특정 DBMS로 데이터베이스를 구현하는 것이다.

### 데이터베이스 설계 시 고려사항

- 무결성
- 일관성
- 회복
- 보안
- 효율성
- 데이터베이스 확장

### 데이터베이스 설계 순서

1. 요구 조건 분석
2. **개념적 설계**: 개념 스키마, 트랜잭션 모델링, E-R 모델
3. **논리적 설계(데이터 모델링)**: 목표 DBMS에 맞는 논리 스키마 설계 또는 변환(mapping), 트랜잭션 인터페이스 설계
4. **물리적 설계(데이터 구조화)**: 목표 DBMS에 맞는 물리적 구조의 데이터로 변환
5. 구현

물리적 설계에서는 저장 레코드의 양식, 순서, 접근 경로, 조회가 집중되는 레코드와 같은 정보를 사용하여 데이터가 저장되는 방법을 묘사한다.

물리적 설계 시 고려할 사항은 다음과 같다.

- 트랜잭션 처리량
- 응답 시간
- 디스크 용량
- 저장 공간의 효율화

## 61섹션: 데이터 모델의 개념

데이터 모델은 현실 세계의 정보들을 단순화, 추상화하여 체계적으로 표현한 **개념적 모형**이다.

### 데이터 모델의 구성 요소

- **개체(Entity)**: 데이터베이스에 표현하려는 것으로, 사람이 생각하는 개념이나 정보 단위 같은 현실 세계의 대상체이다.
- **속성(Attribute)**: 데이터의 가장 작은 논리적 단위로, 파일 구조상의 데이터 항목 또는 데이터 필드이다.
- **관계(Relationship)**: 개체 간의 관계 또는 속성 간의 논리적인 연결을 의미한다.

> [!NOTE]
>
> ##### 관계의 형태
>
> - 일 대 일(1:1)
> - 일 대 다(1:N)
> - 다 대 다(N:M)

### 개념적 데이터 모델

현실 세계에 대한 인식을 **추상적 개념**으로 표현하는 과정이다. E-R 모델이 대표적인 개념적 데이터 모델이다.

### 논리적 데이터 모델

개념적 모델링 과정에서 얻은 개념적 구조를 컴퓨터가 이해하고 처리할 수 있는 **컴퓨터 세계의 환경에 맞도록 변환**하는 과정이다. 단순히 **데이터 모델**이라고 부르기도 한다.

### 데이터 모델에 표시할 요소

- **구조(Structure)**: 데이터 구조 및 정적 성질
- **연산(Operation)**: 데이터를 처리하는 작업에 대한 명세로서 데이터베이스를 조작하는 기본 도구
- **제약 조건(Constraint)**: 데이터의 논리적인 제약 조건

## 62섹션: E-R(개체-관계) 모델

개념적 데이터 모델의 가장 대표적인 것으로 **피터 첸**이 제안했다.

- E-R 모델에서는 데이터를 개체, 속성, 관계로 묘사한다.
- 특정 DBMS를 고려하지 않는다.

### E-R 다이어그램

다음은 피터 첸 표기법에서의 기호들을 정리한 것이다.

- **사각형**: 개체 타입
- **마름모**: 관계 타입
- **타원**: 속성
- **이중 타원**: 다중값 속성(복합 속성)
- 복수 타원: 복합 속성
- 밑줄 타원: 기본키 속성
- **선, 링크**: 개체 타입과 속성을 연결
- 관계: 개체 간 관계에 대한 대응수를 선 위에 기술

## 63섹션: 관계형 데이터베이스의 구조

개체나 관계를 모두 릴레이션(Relation)이라는 표(Table)로 표현한다.

- 릴레이션은 개체 릴레이션과 관계 릴레이션으로 구분할 수 있다.
- 성능이 다소 떨어진다는 단점이 있다.

### 관계형 데이터베이스의 Relation 구조

릴레이션은 구조를 나타내는 릴레이션 스키마와 실제 값들인 릴레이션 인스턴스로 구성된다.

#### 튜플(Tuple)

- 릴레이션을 구성하는 각각의 행을 의미한다.
- 속성의 모임으로 구성된다.
- 파일 구조에서 레코드에 해당한다.
- 튜플의 수를 **카디널리티(Cardinality)** 또는 기수, 대응수라고 한다.

#### 속성(Attribute)

- 데이터베이스를 구성하는 가장 작은 논리적 단위이다.
- 개체의 특성을 기술한다.
- 파일 구조에서 데이터 항목 또는 데이터 필드에 해당한다.
- 속성의 수를 **디그리(Degree)** 또는 차수라고 한다.

#### 도메인(Domain)

- 하나의 속성이 취할 수 있는 원자(Atomic)값들의 집합이다.
- 속성 값의 합법 여부를 검사할 때 도메인을 사용하기도 한다. 예를 들어 성별 속성의 도메인은 '남'과 '여'로, 그 외의 값은 입력될 수 없다.

### 릴레이션의 특징

- 튜플이나 속성들 간의 순서는 중요하지 않다.
- 속성의 값은 더 이상 쪼갤 수 없는 원자값만을 저장한다.
- 속성의 명칭은 유일해야 하지만, 속성을 구성하는 값은 동일한 값이 있을 수 있다.

## 64섹션: 관계형 데이터베이스의 제약 조건 - 키

제약 조건은 데이터베이스에 저장되는 데이터의 정확성을 보장하기 위하여 키(Key)를 이용하여 **입력되는 데이터에 제한**을 주는 것이다.

### 키의 개념 및 종류

키는 튜플들을 서로 구분할 수 있는 기준이 되는 애트리뷰트를 말한다. 키의 종류에는 후보키, 기본키, 대체키, 슈퍼키, 외래키 등이 있다.

### 후보키(Candidate Key)

**튜플을 유일하게 식별하기 위해 사용하는 속성들의 부분집합**, 즉 기본키로 사용할 수 있는 속성들을 말한다.

- 모든 릴레이션에는 반드시 하나 이상의 후보키가 존재한다.
- 후보키는 모든 튜플에 대해 유일성과 최소성을 만족해야 한다.
  - **유일성(Unique)**: 하나의 키 값으로 하나의 튜플만을 유일하게 식별
  - **최소성(Minimality)**: 꼭 필요한 속성으로만 구성

### 기본키(Primary Key)

후보키 중에서 선정된 주키(Main Key)이다.

- 기본키는 후보키의 성질을 갖는다. 즉, 유일성과 최소성을 가진다.
- 기본키는 **NULL 값을 가질 수 없다.**

### 대체키(Alternate Key)

후보키가 둘 이상일 때 **기본키를 제외한 나머지 후보키**를 의미한다. 보조키라고도 한다.

### 슈퍼키(Super Key)

속성들의 집합으로 구성된 키이다.

- **슈퍼키는 유일성은 만족하지만, 최소성은 만족하지 못한다.**

### 외래키(Foreign Key)

**다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합**을 의미한다.

- 외래키는 릴레이션 간의 **참조 관계를 표현**한다.
- 참조 릴레이션의 기본키에 없는 값은 입력할 수 없다.
- Null을 입력할 수 있다.
- 외래키는 중복이 허용되므로, 유일성과 최소성을 가질 수 없다.

## 65섹션: 관계형 데이터베이스의 제약 조건 - 무결성

무결성은 데이터베이스에 저장된 데이터 값과 현실 세계의 실제 값이 일치하는 정확성을 의미한다. 무결성 제약 조건은 데이터의 정확성을 보장하기 위해 부정확한 자료가 데이터베이스에 저장되는 것을 방지하기 위한 것이다.

무결성의 종류는 다음과 같다.

- **개체 무결성(Entity Integrity, 실체 무결성): 기본 테이블의 기본키를 구성하는 어떤 속성도 Null 값이나 중복값을 가질 수 없다.**
- **도메인 무결성(Domain Integrity, 영역 무결성): 속성 값이 정의된 도메인에 속한 값이어야 한다.**
- **참조 무결성(Referential Integrity): 외래키 값은 Null이거나 참조 릴리이션의 기본키 값과 동일해야 한다.**
- **사용자 정의 무결성(User-Defined Integrity)**

### 데이터 무결성 강화

데이터 무결성은 애플리케이션, 트리거, 제약 조건을 이용하여 강화할 수 있다.

- 애플리케이션: 복잡한 요구 조건 구현 가능. 관리가 어려움
- 트리거: 복잡한 요구 조건 구현 가능. 운영 중 변경이 어려움
- 제약 조건: 복잡한 요구 조건 구현과 예외적인 처리가 불가능

## 66섹션: 관계대수 및 관계해석
